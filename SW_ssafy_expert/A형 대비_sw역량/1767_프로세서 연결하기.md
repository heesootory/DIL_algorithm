# 1767 - í”„ë¡œì„¸ì„œ ì—°ê²°í•˜ê¸°


## ì•„ì´ë””ì–´

### ì½”ë“œ1

* ê²°êµ­ ì¡°í•© + dfs(ë°±íŠ¸ë˜í‚¹) ë¬¸ì œì´ë‹¤.

* ì²˜ìŒì—ëŠ” ì¡°í•© + ë¶€ë¶„ì§‘í•© + ë°±íŠ¸ë˜í‚¹ ìœ¼ë¡œ í’€ì—ˆì§€ë§Œ, ì‹œê°„ì´ˆê³¼...
    - ğŸ¯ ë¶€ë¶„ì§‘í•©ì˜ ê²½ìš°ë¥¼ ëª¨ë‘ êµ³ì´ ë½‘ì€ ë‹¤ìŒì— ë°±íŠ¸ë˜í‚¹ì„ ì´ìš©í•´ì„œ ì—°ê²°í•´ë³´ëŠ” ê²ƒì€ -> ë‹¨ìˆœíˆ ë°±íŠ¸ë˜í‚¹ ì½”ë“œ í•˜ë‚˜ë¡œ ëª¨ë‘ ê°€ëŠ¥í•œ ì‘ì—…ì´ë‹¤.

* ì—°ê²°ì„ ì‹œì¼œë³´ê³ , í•´ì œí•˜ëŠ” ê³¼ì •ì—ì„œ, ì¬ê·€í•¨ìˆ˜ì˜ ìœ„ì•„ë˜ë¡œ, connectí•¨ìˆ˜ + disconnectí•¨ìˆ˜ë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì„œ ì–´ë–»ê²Œë“  í•´ë³´ë ¤ê³  í–ˆì§€ë§Œ, ë¶ˆê°€ëŠ¥ í–ˆëŠ”ë°, ê·¸ ì´ìœ ëŠ” return ê°’ì´ 2ê°œ í•„ìš”í–ˆê¸° ë•Œë¬¸ì´ë‹¤.
    - í•­ìƒ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì •ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´, returnì˜ ê°¯ìˆ˜ë¥¼ ì˜ ìƒê°í•´ë³´ëŠ”ê²Œ ì¢‹ì„ ë“¯...
    - ì—¬ê¸°ì„œëŠ” returnê°’ì´ ì—°ê²°í•œ ì¹¸ì˜ ê°¯ìˆ˜, ë°°ì—´ì´ ë‘˜ë‹¤ í•„ìš”í•˜ë¯€ë¡œ, í•¨ìˆ˜ë¡œ ë¦¬í™í† ë§í•˜ê¸° ì–´ë ¤ì›Œ ë³´ì¸ë‹¤.(í˜¹ì‹œ, ë‚˜ì¤‘ì— ë” ì‹¤ë ¥ì´ í¬ë©´ ê°€ëŠ¥í• ì§€ë„... ã… )
    - í•¨ìˆ˜ ë¦¬í™í† ë§ ë°”ë¡œ ì½”ë“œ2!!! -> í•˜ì§€ë§Œ, ë°°ì—´ ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ í•˜ë¯€ë¡œ ë¹„íš¨ìœ¨ì  ã… ã… 

* ì½”ë“œ1ì˜ ê²½ìš°ê°€ ê°€ì§€ì¹˜ê¸°ë¥¼ ë” ë§ì´ í• ìˆ˜ ìˆê¸°ë•Œë¬¸ì—, íš¨ìœ¨ì !!
    1. ê·¸ë¦¬ë©´ì„œ ì•ˆë˜ë©´ ë°”ë¡œ ê°€ì§€ì¹˜ê¸°
    2. ë§ì€ ì½”ì–´ìˆ˜ì—ì„œ ì´ë¯¸ ë‹µì´ ë‚˜ì™€ë²„ë¦¬ë©´, ë” ì ì€ ì½”ì–´ìˆ˜ëŠ” íƒìƒ‰ ì•ˆí•¨.

### ì½”ë“œ2

* dfs 5ì§„ íŠ¸ë¦¬ë¡œ í‘¼ ê²°ê³¼ - ì½”ë“œëŠ” ì´í•´í•˜ê¸° ë” ë‹¨ìˆœ!!

* ìƒˆë¡œìš´ ë°°ì—´ì„ ê³„ì† ë§Œë“¤ì–´ì•¼ í•˜ê¸°ë•Œë¬¸ì—, ë©”ëª¨ë¦¬ë¥¼ í›¨ì”¬ ë” ì‚¬ìš©í•˜ê²Œ ë˜ê³ , ê°€ì§€ì¹˜ê¸°ê°€ ë¶ˆê°€ í•˜ë¯€ë¡œ, ì‹œê°„ë„ ë” ê±¸ë¦¬ê²Œ ëœë‹¤.
    - ë¬¼ë¡  ì—°ê²°ì´ ê°€ëŠ¥í•œì§€ ì•ˆí•œì§€ ì •ë„ì˜ ê°€ì§€ì¹˜ê¸°ëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ, 
    - ì¡°í•©ì˜ ê²°ê³¼ ì¤‘ ë§ì€ ìˆ˜ì˜ ì½”ì–´ ë¶€í„° ì—°ê²°í•´ë³¼ë•ŒëŠ” ì •ë‹µì´ ê°±ì‹ ë ì‹œ, ë” ì ì€ ì½”ì–´ ê°¯ìˆ˜ì˜ íƒìƒ‰ì€ ì•„ì˜ˆ ì•ˆí•´ë„ ë˜ë¯€ë¡œ, íƒìƒ‰ ê°€ì§€ê°€ í›¨ì”¬ ì¤„ì–´ë“ ë‹¤.
    - dfs ë¡œ nì§„íŠ¸ë¦¬ëŠ” ë¬´ì¡°ê±´! ì™„ì „íƒìƒ‰ì´ë‹¤ (ë°±íŠ¸ë˜í‚¹ ë¶ˆê°€!) -> ëª¨ë“  ì„ íƒì´ ë™ì‹œì— ê°€ì§€ë¥¼ ì¹˜ë©° ë‚´ë ¤ê°€ê¸° ë•Œë¬¸!

* ë³´í˜¸í•„ë¦„ ë¬¸ì œì²˜ëŸ¼ 1ì°¨ ë°°ì—´ì„ ê³„ì† ë°”ê¿”ì£¼ê±°ë‚˜, ë³µì‚¬ë¥¼ ì´ìš©í•˜ëŠ”ê²Œ ì•„ë‹Œ, 2ì°¨ì› ë°°ì—´ì€ ê³„ì†í•´ì„œ ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ í•˜ë¯€ë¡œ, ë¶ˆí¸í•˜ì§€ë§Œ, ê·¸ë¦¬ê³  ì§€ìš°ê³ ë¥¼ ë°˜ë³µí•˜ëŠ” ë°±íŠ¸ë˜í‚¹ì´ ë©”ëª¨ë¦¬ì ìœ¼ë¡œë„ ì‹œê°„ì ìœ¼ë¡œë„ í›¨ì”¬ ìœ ë¦¬í•˜ê¸´ í•˜ë‹¤.

* ë°±íŠ¸ë˜í‚¹ìœ¼ë¡œ í’€ë˜ ì‹œí—˜ì—ì„œ ì • ë‹µì´ ì•ˆë‚˜ì˜¨ë‹¤ë©´ ì´ ë°©ë²•ë„ ìƒê°í•´ë³´ì.

* ğŸ¯ ì£¼ì˜í•  ì !!!ğŸ¯
    - ë§¤ê°œë³€ìˆ˜ë¡œ ë°°ì—´ì„ ë„˜ê²¨ì¤„ ë•Œ, ë°±íŠ¸ë™ì²˜ëŸ¼ ê·¸ë¦¬ê³  ì§€ìš°ê¸°ë¥¼ ë°˜ë³µí•˜ì§€ ì•Šê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒ ì¬ê·€ë¡œ ë„˜ì–´ê°€ëŠ” ê°€ì§€ë¥¼ íƒ€ê¸°ì „ì— ìƒˆë¡œìš´ ë°°ì—´ì„ ìƒì„±í•´ì„œ ë„˜ê²¨ì¤˜ì•¼í•¨!!!

## ì½”ë“œ1 - ì¡°í•© + ë°±íŠ¸ë˜í‚¹.

```java
import java.io.*;
import java.util.*;

class Pair{
    int x, y;
    Pair(int x, int y){
        this.x = x;
        this.y = y;
    }
}
public class Solution {
    static int N;
    static List<Pair> core_list;        // ì „ì²´ ì½”ì–´ ë¦¬ìŠ¤íŠ¸
    static int total;           // ì „ì²´ ì½”ì–´ ê°¯ìˆ˜
    static Pair[] core_arr;     // ì¡°í•©ìœ¼ë¡œ ì—°ê²°ì‹œí‚¬ ì½”ì–´ë§Œ ë½‘ì€ ë°°ì—´
    static int[] dx = {-1,1,0,0};
    static int[] dy = {0,0,-1,1};
    static int min = Integer.MAX_VALUE;
    static boolean check;       // ìµœì†Ÿê°’ì„ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€

    static void dfs(int idx, int[][] arr, int sum){     // 4ë°©í–¥ìœ¼ë¡œ ì—°ê²° ì‹œì¼œë³´ê¸° - ë°±íŠ¸ë™í‚¹
        if(idx == core_arr.length){
            if(sum < min) {
                min = sum;
                check = true;       // ìµœì†Ÿê°’ì´ í˜„ì¬ì˜ ì½”ì–´ê°¯ìˆ˜ì—ì„œ ê°±ì‹ ë˜ë©´, í‘œì‹œ
            }
            return;
        }
        // ì—°ê²°ì‹œí‚¬ ì½”ì–´ ì„ íƒ
        Pair core = core_arr[idx];
        for(int d = 0; d < 4; d++){

            boolean flag = true;        // ì½”ì–´ì—°ê²°ì´ ê°€ëŠ¥í•œì§€ ì—¬ë¶€
            int cnt = 0;        // ì—°ê²° ê°¯ìˆ˜
            int nx = core.x;
            int ny = core.y;
            // ì „ì„  ê·¸ë¦¬ê¸°
            while(true){
                nx += dx[d];
                ny += dy[d];

                if(nx < 0 || ny < 0 || nx >= N || ny >= N) break;
                if(arr[nx][ny] == 1){
                    flag = false; break;
                }
                arr[nx][ny] = 1;
                cnt++;
            }
            // ì´ë²ˆ ì½”ì–´ê°€ ì—°ê²° ê°€ëŠ¥í•˜ë‹¤ë©´ ë‹¤ìŒì½”ì–´ë„ ã„±ã„±.
            if(flag) dfs(idx + 1, arr, sum + cnt);

            // ì—°ê²° í•´ì œí•˜ê¸°
            while(cnt-- > 0){
                nx -= dx[d];
                ny -= dy[d];
                arr[nx][ny] = 0;
            }

        }
    }
    static void comb(int idx, int start, int[][] arr){      // ëº„ ì½”ì–´ë¥¼ ì¡°í•©ìœ¼ë¡œ êµ¬í•´ì„œ, ë½‘ì•„ë³´ê¸° - ì¡°í•© + ë°±íŠ¸ë™
        if(idx == core_arr.length){
            dfs(0, arr, 0);
            return;
        }

        for(int i = start; i < core_list.size(); i++){
            core_arr[idx] = core_list.get(i);           // ì¡°í•©ì„ í†µí•´ ì—°ê²°ì‹œí‚¤ ì½”ì–´ë¥¼ ê°¯ìˆ˜ì— ë§ê²Œ ì„ íƒ.
            comb(idx + 1, i + 1, arr);
        }
    }

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        int T = Integer.parseInt(br.readLine());
        for(int t = 1; t <= T; t++){
            N = Integer.parseInt(br.readLine());

            int[][] arr = new int[N][N];
            core_list = new ArrayList<>();
            check = false;
            min = Integer.MAX_VALUE;

            for(int i = 0; i < N; i++){
                st = new StringTokenizer(br.readLine());
                for(int j = 0; j < N; j++){
                    arr[i][j] = Integer.parseInt(st.nextToken());
                    if(arr[i][j] == 1 && i != 0 && j != 0 && i != N -1 && j != N-1)
                        core_list.add(new Pair(i, j));
                }
            }

            // ì½”ì–´ë¥¼ ëª‡ê°œ ì—°ê²°í•  ê²ƒì¸ê°€
            total = core_list.size();
            for(int i = total; i > 0; i--){
                if(check) break;        // ì´ë¯¸ ì´ì „ì˜ ê°¯ìˆ˜ì—ì„œ í‘œì‹œê°€ ìµœì†Ÿê°’ì„ ì°¾ì•˜ì—ˆë‹¤ë©´, ë”ì´ìƒ ì ì€ ê°¯ìˆ˜ íƒìƒ‰ ã„´
                core_arr = new Pair[i];
                comb(0,0, arr);
            }

            if(min == Integer.MAX_VALUE) min = 0;       // ëª¨ì„œë¦¬ì—ë§Œ ì „ë¶€ ìˆë‹¤ë©´ 0

            System.out.printf("#%d %d\n", t, min);

        }

    }

    static void print(int[][] arr){
        for(int[] i : arr){
            for(int j : i) System.out.print(j + " ");
            System.out.println();
        }
        System.out.println();
    }
}


```


## ì½”ë“œ2 - dfs(5ì§„íŠ¸ë¦¬)

```java
import java.io.*;
import java.util.*;


public class Solution {
    static class Pair{
        int x, y;
        Pair(int x, int y){
            this.x = x;
            this.y = y;
        }
    }
    static int N;
    static int[][] origin_arr;
    static List<Pair> list;
    static int[] dx = {-1,1,0,0};
    static int[] dy = {0,0,-1,1};
    static int[] ans_arr;
    static int INF = Integer.MAX_VALUE;
    static int possible(int idx, int[][] arr, int d){       // ì—°ê²° ê°€ëŠ¥í•œì§€ í™•ì¸ - ê°€ì§€ì¹˜ê¸°.
        int cnt = 0;
        Pair core = list.get(idx);
        int nx = core.x;
        int ny = core.y;
        while(true){
            nx += dx[d];
            ny += dy[d];
            if(nx < 0 || ny < 0 || nx >= N || ny >= N) break;
            if(arr[nx][ny] == 1) return -1;
            cnt++;
        }
        return cnt;
    }

    static int[][] connect(int idx, int[][] arr, int d){        // ì—°ê²° ê·¸ë¦¬ê¸°
        Pair core = list.get(idx);
        int nx = core.x;
        int ny = core.y;
        while(true){
            nx += dx[d];
            ny += dy[d];
            if(nx < 0 || ny < 0 || nx >= N || ny >= N) break;
            arr[nx][ny] = 1;
        }
        return arr;
    }

    static void dfs(int idx, int sum, int[][] arr, int core_cnt){
        if(idx == list.size()){
            if(ans_arr[core_cnt] > sum) ans_arr[core_cnt] = sum;
            return;
        }

        // 4ë°©í–¥ìœ¼ë¡œ ì—°ê²°ì´ ê°€ëŠ¥í•˜ë‹¤ë©´ ì—°ê²°í•˜ëŠ” ê²½ìš°
        for(int i = 0; i < 4; i++){
            if(possible(idx, arr, i) > 0){          // ë¶ˆê°€ëŠ¥í•˜ë‹¤ë©´ êµ³ì´ ê°€ë³¼ í•„ìš” x. - ê°€ì§€ì¹˜ê¸°
                int[][] new_arr = new int[N][N];            // ì¬ê·€í•¨ìˆ˜ì— ë„˜ê²¨ì¤„ë•Œ, ì£¼ì˜í• ê²ƒ -> ë§¤ê°œë³€ìˆ˜ì— í•¨ìˆ˜ë¡œ ë„£ì–´ì¤€ ë°°ì—´ì€ ë³€í•˜ê³  ë„˜ì–´ê°„ë‹¤!!!
                for(int j = 0; j < N; j++) new_arr[j] = arr[j].clone();
                dfs(idx + 1, sum + possible(idx, arr, i), connect(idx, new_arr, i), core_cnt + 1);
            }
        }
        // ì—°ê²°ì•ˆí•˜ëŠ” ê²½ìš°.
        dfs(idx + 1, sum, arr, core_cnt);
    }

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        int T = Integer.parseInt(br.readLine());
        for (int t = 1; t <= T; t++) {
            st = new StringTokenizer(br.readLine());
            N = Integer.parseInt(st.nextToken());
            origin_arr = new int[N][N];
            int[][] test_arr = new int[N][N];
            list = new ArrayList<>();

            for(int i = 0 ; i < N; i++){
                st = new StringTokenizer(br.readLine());
                for(int j = 0; j < N; j++){
                    origin_arr[i][j] = Integer.parseInt(st.nextToken());
                    test_arr[i][j] = origin_arr[i][j];
                    // ê°€ì¥ìë¦¬ ì½”ì–´ëŠ” êµ³ì´ íƒìƒ‰ ã„´ã„´
                    if(origin_arr[i][j] == 1 && i != 0 && j != 0 && i != N-1 && j != N-1) list.add(new Pair(i, j));
                }
            }

            ans_arr = new int[list.size()+1];       // ì½”ì–´ì˜ ê°¯ìˆ˜ë§ˆë‹¤ ìµœì†Ÿê°’ì„ ì™„ì „íƒìƒ‰í•œ ê²°ê³¼ ë°°ì—´.
            Arrays.fill(ans_arr, INF);

            dfs(0,  0, test_arr, 0);

            int ans = INF;
            for(int i = list.size() ; i >= 0; i--) {        // ê²°ê³¼ ë°°ì—´ì¤‘ ê°€ì¥ ë§ì€ ìˆ˜ì˜ ì½”ì–´ì˜ ìµœì†Ÿê°’ì„ ì°¾ìœ¼ë©´ ì •ë‹µ.
                if(ans_arr[i] < ans) {
                    ans = ans_arr[i]; break;
                }
            }
            System.out.printf("#%d %d\n", t, (ans == INF) ? 0 : ans);
        }
    }
}

```