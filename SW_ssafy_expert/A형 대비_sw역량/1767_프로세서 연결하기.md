# 1767 - í”„ë¡œì„¸ì„œ ì—°ê²°í•˜ê¸°


## ì•„ì´ë””ì–´

* ê²°êµ­ ì¡°í•© + dfs(ë°±íŠ¸ë˜í‚¹) ë¬¸ì œì´ë‹¤.

* ì²˜ìŒì—ëŠ” ì¡°í•© + ë¶€ë¶„ì§‘í•© + ë°±íŠ¸ë˜í‚¹ ìœ¼ë¡œ í’€ì—ˆì§€ë§Œ, ì‹œê°„ì´ˆê³¼...
    - ğŸ¯ ë¶€ë¶„ì§‘í•©ì˜ ê²½ìš°ë¥¼ ëª¨ë‘ êµ³ì´ ë½‘ì€ ë‹¤ìŒì— ë°±íŠ¸ë˜í‚¹ì„ ì´ìš©í•´ì„œ ì—°ê²°í•´ë³´ëŠ” ê²ƒì€ -> ë‹¨ìˆœíˆ ë°±íŠ¸ë˜í‚¹ ì½”ë“œ í•˜ë‚˜ë¡œ ëª¨ë‘ ê°€ëŠ¥í•œ ì‘ì—…ì´ë‹¤.

* ì—°ê²°ì„ ì‹œì¼œë³´ê³ , í•´ì œí•˜ëŠ” ê³¼ì •ì—ì„œ, ì¬ê·€í•¨ìˆ˜ì˜ ìœ„ì•„ë˜ë¡œ, connectí•¨ìˆ˜ + disconnectí•¨ìˆ˜ë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì„œ ì–´ë–»ê²Œë“  í•´ë³´ë ¤ê³  í–ˆì§€ë§Œ, ë¶ˆê°€ëŠ¥ í–ˆëŠ”ë°, ê·¸ ì´ìœ ëŠ” return ê°’ì´ 2ê°œ í•„ìš”í–ˆê¸° ë•Œë¬¸ì´ë‹¤.
    - í•­ìƒ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì •ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´, returnì˜ ê°¯ìˆ˜ë¥¼ ì˜ ìƒê°í•´ë³´ëŠ”ê²Œ ì¢‹ì„ ë“¯...
    - ì—¬ê¸°ì„œëŠ” returnê°’ì´ ì—°ê²°í•œ ì¹¸ì˜ ê°¯ìˆ˜, ë°°ì—´ì´ ë‘˜ë‹¤ í•„ìš”í•˜ë¯€ë¡œ, í•¨ìˆ˜ë¡œ ë¦¬í™í† ë§í•˜ê¸° ì–´ë ¤ì›Œ ë³´ì¸ë‹¤.(í˜¹ì‹œ, ë‚˜ì¤‘ì— ë” ì‹¤ë ¥ì´ í¬ë©´ ê°€ëŠ¥í• ì§€ë„... ã… )


## ì½”ë“œ

```java
import java.io.*;
import java.util.*;

class Pair{
    int x, y;
    Pair(int x, int y){
        this.x = x;
        this.y = y;
    }
}
public class Solution {
    static int N;
    static List<Pair> core_list;        // ì „ì²´ ì½”ì–´ ë¦¬ìŠ¤íŠ¸
    static int total;           // ì „ì²´ ì½”ì–´ ê°¯ìˆ˜
    static Pair[] core_arr;     // ì¡°í•©ìœ¼ë¡œ ì—°ê²°ì‹œí‚¬ ì½”ì–´ë§Œ ë½‘ì€ ë°°ì—´
    static int[] dx = {-1,1,0,0};
    static int[] dy = {0,0,-1,1};
    static int min = Integer.MAX_VALUE;
    static boolean check;       // ìµœì†Ÿê°’ì„ ì°¾ì•˜ëŠ”ì§€ ì—¬ë¶€

    static void dfs(int idx, int[][] arr, int sum){     // 4ë°©í–¥ìœ¼ë¡œ ì—°ê²° ì‹œì¼œë³´ê¸° - ë°±íŠ¸ë™í‚¹
        if(idx == core_arr.length){
            if(sum < min) {
                min = sum;
                check = true;       // ìµœì†Ÿê°’ì´ í˜„ì¬ì˜ ì½”ì–´ê°¯ìˆ˜ì—ì„œ ê°±ì‹ ë˜ë©´, í‘œì‹œ
            }
            return;
        }
        // ì—°ê²°ì‹œí‚¬ ì½”ì–´ ì„ íƒ
        Pair core = core_arr[idx];
        for(int d = 0; d < 4; d++){

            boolean flag = true;        // ì½”ì–´ì—°ê²°ì´ ê°€ëŠ¥í•œì§€ ì—¬ë¶€
            int cnt = 0;        // ì—°ê²° ê°¯ìˆ˜
            int nx = core.x;
            int ny = core.y;
            // ì „ì„  ê·¸ë¦¬ê¸°
            while(true){
                nx += dx[d];
                ny += dy[d];

                if(nx < 0 || ny < 0 || nx >= N || ny >= N) break;
                if(arr[nx][ny] == 1){
                    flag = false; break;
                }
                arr[nx][ny] = 1;
                cnt++;
            }
            // ì´ë²ˆ ì½”ì–´ê°€ ì—°ê²° ê°€ëŠ¥í•˜ë‹¤ë©´ ë‹¤ìŒì½”ì–´ë„ ã„±ã„±.
            if(flag) dfs(idx + 1, arr, sum + cnt);

            // ì—°ê²° í•´ì œí•˜ê¸°
            while(cnt-- > 0){
                nx -= dx[d];
                ny -= dy[d];
                arr[nx][ny] = 0;
            }

        }
    }
    static void comb(int idx, int start, int[][] arr){      // ëº„ ì½”ì–´ë¥¼ ì¡°í•©ìœ¼ë¡œ êµ¬í•´ì„œ, ë½‘ì•„ë³´ê¸° - ì¡°í•© + ë°±íŠ¸ë™
        if(idx == core_arr.length){
            dfs(0, arr, 0);
            return;
        }

        for(int i = start; i < core_list.size(); i++){
            core_arr[idx] = core_list.get(i);           // ì¡°í•©ì„ í†µí•´ ì—°ê²°ì‹œí‚¤ ì½”ì–´ë¥¼ ê°¯ìˆ˜ì— ë§ê²Œ ì„ íƒ.
            comb(idx + 1, i + 1, arr);
        }
    }

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        int T = Integer.parseInt(br.readLine());
        for(int t = 1; t <= T; t++){
            N = Integer.parseInt(br.readLine());

            int[][] arr = new int[N][N];
            core_list = new ArrayList<>();
            check = false;
            min = Integer.MAX_VALUE;

            for(int i = 0; i < N; i++){
                st = new StringTokenizer(br.readLine());
                for(int j = 0; j < N; j++){
                    arr[i][j] = Integer.parseInt(st.nextToken());
                    if(arr[i][j] == 1 && i != 0 && j != 0 && i != N -1 && j != N-1)
                        core_list.add(new Pair(i, j));
                }
            }

            // ì½”ì–´ë¥¼ ëª‡ê°œ ì—°ê²°í•  ê²ƒì¸ê°€
            total = core_list.size();
            for(int i = total; i > 0; i--){
                if(check) break;        // ì´ë¯¸ ì´ì „ì˜ ê°¯ìˆ˜ì—ì„œ í‘œì‹œê°€ ìµœì†Ÿê°’ì„ ì°¾ì•˜ì—ˆë‹¤ë©´, ë”ì´ìƒ ì ì€ ê°¯ìˆ˜ íƒìƒ‰ ã„´
                core_arr = new Pair[i];
                comb(0,0, arr);
            }

            if(min == Integer.MAX_VALUE) min = 0;       // ëª¨ì„œë¦¬ì—ë§Œ ì „ë¶€ ìˆë‹¤ë©´ 0

            System.out.printf("#%d %d\n", t, min);

        }

    }

    static void print(int[][] arr){
        for(int[] i : arr){
            for(int j : i) System.out.print(j + " ");
            System.out.println();
        }
        System.out.println();
    }
}


```