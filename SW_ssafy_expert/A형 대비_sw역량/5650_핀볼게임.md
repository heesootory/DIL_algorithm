# 5650 - í•€ë³¼ ê²Œì„



## ì•„ì´ë””ì–´

* ì™„ì íƒìƒ‰ + ì‹œë®¬ë ˆì´ì…˜.

* ëª¨ë“  ë¹ˆì¹¸ì—ì„œ ëª¨ë“  ë°©í–¥ìœ¼ë¡œ ê³µì„ êµ´ë ¤ë´ì•¼ í•œë‹¤. - ì™„ì „ íƒìƒ‰.

* í•€ë³¼ ë§µì— ë“¤ì–´ê°„ ê³µì€ í•˜ë‚˜ì˜ ê°ì²´ì´ê³ , ê°ì²´ í•˜ë‚˜ë¥¼ ê°€ì§€ê³  ì´ë¦¬ì €ë¦¬ ê°€ì§€ê³  ë…¸ëŠ” ì „í˜•ì ì¸ ë¬¸ì œ. - ì‹œë®¬ë ˆì´ì…˜.

* 


## ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Solution {
    static class Pair{      
        int x, y;
        int d;
        Pair(int x, int y){
            this.x = x;
            this.y = y;
        }
    }
    static int N;
    static int[][] arr;
    static List<Pair> list;
    static int[] dx = {-1,1,0,0};
    static int[] dy = {0,0,-1,1};   // ìƒ0, í•˜1, ì¢Œ2, ìš°3
    static Pair[][] hole_list;
    static boolean[] hole_cnt;
    static int max = Integer.MIN_VALUE;

    static void hole_change(Pair p, int v){     // ì›œí™€ë¡œ ë“¤ì–´ê°”ì„ ë•Œ.

        if(hole_list[0][v].x == p.x && hole_list[0][v].y == p.y){       // ì›œí™€ 0ë²ˆê³¼ ì¢Œí‘œê°€ ë™ì¼ í• ë•Œ, 
            p.x = hole_list[1][v].x;                                    // ê³µì˜ ì¢Œí‘œë¥¼ 1ë²ˆ ì›œí™€ì¢Œí‘œë¡œ ë°”ê¿”ì¤Œ.
            p.y = hole_list[1][v].y;
        }
        else if(hole_list[1][v].x == p.x && hole_list[1][v].y == p.y){  // ì›œí™€ 1ë²ˆê³¼ ì¢Œí‘œê°€ ë™ì¼ í• ë•Œ, 
            p.x = hole_list[0][v].x;                                    // ê³µì˜ ì¢Œí‘œë¥¼ 0ë²ˆ ì›œí™€ì¢Œí‘œë¡œ ë°”ê¿”ì¤Œ.
            p.y = hole_list[0][v].y;
        }
    }

    static void block_change(Pair p, int block){        // ë¸”ë¡ì— ë§ì•˜ì„ ë•Œ.
        switch(block){          // ê°ê° ë°©í–¥ì„ ë°”ê¿”ì£¼ê¸°.
            case 1:
                if(p.d == 2) p.d = 0;
                else if(p.d == 1) p.d = 3;
                else if(p.d == 3) p.d = 2;
                else if(p.d == 0) p.d = 1;
                break;
            case 2:
                if(p.d == 2) p.d = 1;
                else if(p.d == 0) p.d = 3;
                else if(p.d == 3) p.d = 2;
                else if(p.d == 1) p.d = 0;
                break;
            case 3:
                if(p.d == 3) p.d = 1;
                else if(p.d == 0) p.d = 2;
                else if(p.d == 1) p.d = 0;
                else if(p.d == 2) p.d = 3;
                break;
            case 4:
                if(p.d == 3) p.d = 0;
                else if(p.d == 1) p.d = 2;
                else if(p.d == 2) p.d = 3;
                else if(p.d == 0) p.d = 1;
                break;
            case 5:
                if(p.d == 0) p.d = 1;
                else if(p.d == 1) p.d = 0;
                else if(p.d == 2) p.d = 3;
                else if(p.d == 3) p.d = 2;
                break;
        }
    }

    static void play(Pair p, int ori_x, int ori_y){
        int cnt = 0;

        while(true){
            // ì§€ì •ë°©í–¥ìœ¼ë¡œ ê³„ì†í•´ì„œ ì´ë™.
            p.x += dx[p.d];
            p.y += dy[p.d];

            // ë²½ ë°©í–¥ ë°”ê¾¸ê¸° - ë§µ ë°–ìœ¼ë¡œ ë‚˜ê°”ë‹¤ ë“¤ì–´ì˜¤ëŠ” ê±¸ë¡œ í•˜ëŠ”ê²Œ ì˜¤íˆë ¤ ìƒê°í•˜ê¸° í¸í•¨.
            // ì£¼ì˜í•´ì•¼í•  ì ì€ ë°–ìœ¼ë¡œ ë‚˜ê°”ë‹¤ê°€ ë°”ë¡œ ë“¤ì–´ì˜¤ëŠ” ë¡œì§ì„ ê¼­ ë„£ì–´ì¤˜ì„œ, ë°”ë¡œ ë¸”ë¡ì— ë¶€ë””ì¹˜ëŠ”ì§€ í™•ì¸í•´ì•¼í•œë‹¤!!
            if(p.x == -1 && p.d == 0) {     // ë§µ ìœ„ë¡œ ë‚˜ê°”ì„ì‹œ && ìƒë°©í–¥ìœ¼ë¡œ ì´ë™.
                p.x += 1; p.d = 1; cnt++;
            }
            else if(p.x == N && p.d == 1) {     // ë§µ ì•„ë˜ë¡œ ë‚˜ê°”ì„ì‹œ && í•˜ë°©í–¥ìœ¼ë¡œ ì´ë™.
                p.x -= 1; p.d = 0; cnt++;
            }
            else if(p.y == -1 && p.d == 2) {    // ë§µ ì™¼ìª½ìœ¼ë¡œ ë‚˜ê°”ì„ì‹œ && ì¢Œë°©í–¥ìœ¼ë¡œ ì´ë™.
                p.y += 1; p.d = 3; cnt++;
            }
            else if(p.y == N && p.d == 3) {     // ë§µ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë‚˜ê°”ì„ì‹œ && ìš°ë°©í–¥ìœ¼ë¡œ ì´ë™.
                p.y -= 1; p.d = 2; cnt++;
            }

            // ì¹¸ì˜ ìˆ«ì valueë¥¼ ë§¤ë²ˆ í™•ì¸í•´ì„œ, ì–´ë–¤ ì¥ì• ë¬¼ì´ ìˆëŠ”ì§€ í™•ì¸.
            int value = arr[p.x][p.y];

            // ë¹ˆì¹¸ì´ ì•„ë‹Œ ë­”ê°€ë¥¼ ë§Œì•˜ì„ë•Œ.
            if(value != 0){     // ë¸”ë¡ ë°©í–¥ ë°”ê¾¸ê¸°
                if(0 < value && value < 6) {        // ë¸”ë¡ì— ë¶€ë”«í˜.
                    block_change(p, value);
                    cnt++;
                }
                else if(value >= 6) hole_change(p, value);// ì›œí™€.
                else if(value == -1)  break;        // ë¸”ë™í™€.
            }

            // ì¶œë°œì§€ë¡œ ëŒì•„ì˜¤ë©´ ë
            if(p.x == ori_x && p.y == ori_y) break;
        }

        // whileë¬¸ì´ ì¢…ë£Œë˜ë©´ ìµœëŒ“ê°’ ê°±ì‹ í•˜ê³ , í•¨ìˆ˜ ì¢…ë£Œ.
        if(cnt > max) {
            if(cnt == 10) System.out.println(ori_x + " " + ori_y);
            max = cnt;
        }

    }

    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        int T = Integer.parseInt(br.readLine());
        for(int t = 1; t <= T; t++) {
            N = Integer.parseInt(br.readLine());

            max = Integer.MIN_VALUE;
            arr = new int[N][N];
            list = new ArrayList<>();       // ë¹ˆì¹¸ë“¤ ì €ì¥ -> ê³µì´ ì‹œì‘ë  ìˆ˜ ìˆëŠ” ëª¨ë“  ìœ„ì¹˜.
            hole_cnt = new boolean[11];     // ì›œí™€ì´ 1ë²ˆì§¸ì¸ì§€ 2ë²ˆì§¸ì¸ì§€ íŒë³„í•˜ëŠ” ë°°ì—´.
            hole_list = new Pair[2][11];    // ì›œí™€ ìœ„ì¹˜ ì €ì¥ ë°°ì—´.


            for(int i = 0; i < N; i++){
                st = new StringTokenizer(br.readLine());
                for(int j = 0; j < N; j++){
                    arr[i][j] = Integer.parseInt(st.nextToken());
                    int kan = arr[i][j];   // í•´ë‹¹ ì¹¸ì´ ë­”ì§€ íŒë³„í•˜ê¸° ìœ„í•´ ì¼ë‹¨ ë³€ìˆ˜ë¡œ ë°›ìŒ.
                    if(kan == 0) list.add(new Pair(i, j));  // ë¹ˆì¹¸ -> í•€ë³¼ì´ ì‹œì‘ê°€ëŠ¥í•œ ìœ„ì¹˜ë“¤ ë”°ë¡œ ì €ì¥.
                    else if(kan >= 6) {         // ì›œí™€ 
                        if(!hole_cnt[kan]) {        // ì²«ë²ˆì§¸ ì›œí™€ì¸ì§€ ë‘ë²ˆì§¸ì¸ì§€ íŒë³„í•˜ê¸° ìœ„í•´.(ê·¸ëƒ¥ ë°°ì—´ì— nullì•„ë‹ˆë©´ ì €ì¥.ì´ ë” í¸í–ˆì„ë“¯..)
                            hole_cnt[kan] = true;
                            hole_list[0][kan] = new Pair(i, j);
                        }
                        else hole_list[1][kan] = new Pair(i, j);    // ë‘ ë²ˆì§¸ ì›œí™€ ì €ì¥.
                    }
                }
            }

            for(Pair p : list){     // ë¹ˆì¹¸ì— í•´ë‹¹í•˜ëŠ” ëª¨ë“  ìœ„ì¹˜ì—ì„œ
                int ori_x = p.x;
                int ori_y = p.y;
                for(int i = 0; i < 4; i++){     // ëª¨ë“  ë°©í–¥ìœ¼ë¡œ íƒìƒ‰.
                    p.x = ori_x; p.y = ori_y;   
                    // ğŸ”¥ íƒìƒ‰ í›„, ë¸”ë™í™€ë¡œê°€ì„œ ì¢…ë£Œë˜ëŠ” ê³µì´ ìˆìœ¼ë¯€ë¡œ, ê°ì²´ì˜ ìœ„ì¹˜ë¥¼ ì›ë˜ëŒ€ë¡œ ë§ì¶°ë†“ê³  íƒìƒ‰ì„ ë‹¤ì‹œ ì‹œì‘í•´ì•¼í•¨!!
                    p.d = i;        // ì‹œì‘ ë°©í–¥ ì„¤ì •
                    play(p, ori_x, ori_y);        // í”Œë ˆì´!
                    // ì‹œì‘ì ìœ¼ë¡œ ë‹¤ì‹œ ëŒì•„ì™€ì•¼ ê²Œì„ì´ ë©ˆì¶”ê¸°ë•Œë¬¸ì—, ì‹œì‘ì ì„ ì•Œê¸°ìœ„í•´, x,yì¢Œí‘œë¥¼ ë”°ë¡œ ì§‘ì–´ë„£ìŒ.
                }
            }
            
            System.out.printf("#%d %d\n", t, max);
        }
    }
}
```