# 17069 - íŒŒì´í”„ ì˜®ê¸°ê¸° 2



## ì•„ì´ë””ì–´

* dp - ìƒí–¥ì‹, í•˜í–¥ì‹ ìœ¼ë¡œ í’€ì–´ë´„.

* ìƒê°ì˜ ë°©í–¥ - dp í•˜í–¥ì‹(ì¬ê·€)
    - 1. ì™„ì „íƒìƒ‰ nì§„ íŠ¸ë¦¬ë¥¼ ë¨¼ì € ìƒê°í•˜ì—¬ ê²½ë¡œ íƒìƒ‰ ìƒê°.
    - 2. return í•˜ì—¬ ë…¸ë“œë§ˆë‹¤ì˜ ê²½ë¡œ ê°¯ìˆ˜ë¥¼ ë½‘ì•„ ì˜¬ë¦¼.
    - 3. memo (ì´ì°¨ì› ë°°ì—´)ì— ê° ë…¸ë“œë§ˆë‹¤ì˜ ê°¯ìˆ˜ë¥¼ ì €ì¥í•œë‹¤ëŠ” ìƒê°.
    - 4. ê·¸ ë°°ì—´ì˜ ê°¯ìˆ˜ë¥¼ í™œìš©í•´ì„œ ê°€ì§€ë¥¼ ë‚´ë ¤ê°€ ë³´ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ìƒê°.



## ì½”ë“œ - ìƒí–¥ì‹(bottom - top)

```java
import java.io.*;
import java.util.*;

/**
 * bottom - top (ìƒí–¥ì‹)
 */

public class Main {
    static int N;
    static int[][] arr;
    static long[][][] memo;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        N = Integer.parseInt(br.readLine());
        arr = new int[N+1][N+1];
        memo = new long[3][N+1][N+1];  // 3ê°€ì§€ ë°©í–¥ìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆëŠ” ëª¨ë“  ì ‘ì ì„ ë”°ë¡œ ì €ì¥.

        for(int i = 1; i < N + 1; i++){
            st = new StringTokenizer(br.readLine());
            for(int j = 1; j < N + 1; j++){
                arr[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        // ê°€ë¡œ ë°©í–¥ì˜ íŒŒì´í”„ í•˜ë‚˜ë¡œ ì‹œì‘. - íŒŒì´í”„ì˜ ì™¼ìª½ ëì§€ì  ë…¸ë“œì— ê°’ í‘œì‹œ.
        memo[0][1][2] = 1;

        for(int i = 1; i < N + 1; i++){
            for(int j = 3; j < N + 1; j++){     // 3ê°€ì§€ ë°©í–¥ìœ¼ë¡œ ë™ì‹œì— ê°ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ëª¨ë‘ íƒìƒ‰.
                if(arr[i][j] == 1) continue;        //

                // ğŸ³ í˜„ì¬ êµ¬í•˜ë ¤ëŠ” ì¹¸ì˜ memoëŠ” "íŒŒì´í”„ ë†“ì„ ë°©í–¥"ì— ë”°ë¼. => ì§ì „ì˜ íŒŒì´í”„ì˜ ë°©í–¥ì´ ê°€ëŠ¥í•œ ê²½ìš°ì˜ ìˆ˜ë“¤ì„ ë”í•´ì¤€ë‹¤.
                // ê°€ë¡œ ë°©í–¥ => ì§ì „ì˜ ê°€ë¡œë°©í–¥ + ëŒ€ê° ë°©í–¥.
                memo[0][i][j] = memo[0][i][j-1] + memo[1][i][j-1];
                if(arr[i-1][j] != 1 && arr[i][j-1] != 1)
                    // ëŒ€ê°ì„  ë°©í–¥ => ì§ì „ì˜ ê°€ë¡œë°©í–¥ + ëŒ€ê°ì„  ë°©í–¥ + ìƒí•˜ ë°©í–¥.
                    memo[1][i][j] = memo[0][i-1][j-1] + memo[1][i-1][j-1] + memo[2][i-1][j-1];
                // ì•„ë˜ ë°©í–¥ => ì§ì „ì˜ ìƒí•˜ ë°©í–¥ + ëŒ€ê° ë°©í–¥
                memo[2][i][j] = memo[2][i-1][j] + memo[1][i-1][j]; 
            }
        }

        System.out.println(memo[0][N][N] + memo[1][N][N] + memo[2][N][N]);

    }
}
```

## ì½”ë“œ - í•˜í–¥ì‹(top - bottom)

```java
import java.io.*;
import java.util.*;


public class Main{
    static final int row = 0;
    static final int column = 1;
    static final int diagonal = 2;
    static int[][] arr;
    static long[][][] memo;      // 0 : ê°€ë¡œ, 1 : ìƒí•˜, 2 : ëŒ€ê°.
    static int n;
    static long DFS(int way, int x, int y){
        // ë„ì°© ì‹œì . -  ê¸°ì € ë¶€ë¶„.
        if(x == n-1 && y == n-1) return 1;
        
        // memo í™œìš©í•  ë•Œ
        if(memo[way][x][y] != 0) return memo[way][x][y];

        // memo ê°’ì´ ì—†ì„ ë•Œ.
        long result = 0;     // í˜„ì¬ ë…¸ë“œì—ì„œ ê°ˆìˆ˜ ìˆëŠ” ê°€ì§“ ìˆ˜ë“¤ì˜ ì´í•©!!

        switch(way){
            case row:   // ê°€ë¡œ -> ê°€ë¡œ
                if(y < n-1 && arr[x][y+1] == 0 ) result += DFS(row, x, y+1);
                break;
            case column:    // ì„¸ë¡œ -> ì„¸ë¡œ
                if(x < n-1 && arr[x+1][y] == 0) result += DFS(column, x+1, y);
                break;
            case diagonal:  // ëŒ€ê° -> ê°€ë¡œ, ì„¸ë¡œ
                if(y < n-1 && arr[x][y+1] == 0 ) result += DFS(row, x, y+1);
                if(x < n-1 && arr[x+1][y] == 0) result += DFS(column, x+1, y);
                break;
        }
        // ê°€ë¡œ, ì„¸ë¡œ, ëŒ€ê° -> ëŒ€ê°.
        if(x < n-1 && y < n-1 && arr[x+1][y+1] == 0 && arr[x+1][y] == 0 && arr[x][y+1] == 0) result += DFS(diagonal, x+1, y+1);

        // í˜„ì¬ ë…¸ë“œì—ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ê²½ë¡œë“¤ì„ memoì— ì €ì¥
        memo[way][x][y] = result;
        return result;
    }
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        n = Integer.parseInt(st.nextToken());

        arr = new int[n][n];
        memo = new long[3][n][n];
        for(int i = 0; i < n; i++){
            st = new StringTokenizer(br.readLine());
            for(int j = 0; j < n; j++){
                arr[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        long ans = DFS(row, 0, 1);
        System.out.println(ans);
    }
}
```